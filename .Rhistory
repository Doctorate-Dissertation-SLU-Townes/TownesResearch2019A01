install.packages(c("dplyr", "ggplot2", "here", "janitor", "naniar", "readr", "tidyverse"))
knitr::opts_knit$set(root.dir = here::here())
library(tidyverse) # loads the basic R packages
library(here) # enables file portability
library(readr) # functions for reading data
library(dplyr) # functions for data wrangling
library(janitor) # functions for data cleaning
library(naniar) # functions for analyzing missing data
library(ggplot2) # functions for data visualizations
DataRaw <- read.table("DataRaw/NBERpatents1963to1999/apat63_99.txt", sep = ",", header = TRUE, fill = TRUE, dec = ".")
DataRaw <- read.table("DataRaw/NBERpatents1963to1999/apat63_99.txt", sep = ",", header = TRUE, fill = TRUE, dec = ".")
DataRaw <- read.table("DataRaw/NBERpatents1963to1999/apat63_99.txt", sep = "/", header = TRUE, fill = TRUE, dec = ".")
DataRaw <- read.table("/DataRaw/NBERpatents1963to1999/apat63_99.txt", sep = ",", header = TRUE, fill = TRUE, dec = ".")
setwd("D:/TownesResearch2019A01")
DataRaw <- read.table("DataRaw/NBERpatents1963to1999/apat63_99.txt", sep = ",", header = TRUE, fill = TRUE, dec = ".")
?? wd
getwd
DataRaw %>% # subset data
filter(GYEAR>=1990) %>%
filter(GYEAR<=1995) -> DataSubset90to95
DataSubset90to95 <- as_tibble(DataSubset90to95) # convert data frame to tibble
miss_var_summary(DataSubset90to95, order = TRUE)
miss_case_summary(DataSubset90to95, order = TRUE)
get_dupes(DataSubset90to95, PATENT)
get_dupes(DataSubset90to95)
set.seed(1972)
Sample90to95 <- sample(1:nrow(DataSubset90to95), size = 2000, replace = TRUE, prob = NULL)
Sample90to95 %>%
group_by(APPYEAR) %>%
summarise(obsAPPYEAR = length(APPYEAR)) %>%
group_by(CAT) %>%
summarise(obsCAT = length(CAT)) %>%
group_by(CMADE) %>%
summarise(obsCMADE = length(CMADE)) %>%
group_by(CLAIMS) %>%
summarise(obsCLAIMS = length(CLAIMS)) %>%
group_by(ORIGINAL) %>%
summarise(obsORIGINAL = length(ORIGINAL)) %>%
group_by(GENERAL) %>%
summarise(obsGENERAL = length(GENERAL)) %>%
group_by(RATIOCIT) %>%
summarise(obsRATIOCIT = length(RATIOCIT)) %>%
histoCRECEIVE <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(CRECEIVE))
QQplotCRECEIVE <- qqnorm(Sample90to95$CRECEIVE, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for CRECEIVE", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
?? group_by
View(Sample90to95, "Cleaned Sample Data 1990 to 1995")
set.seed(1972)
Sample90to95 <- sample(1:nrow(DataSubset90to95), size = 2000, replace = TRUE, prob = NULL)
set.seed(1972)
Sample90to95 <- sample(1:nrow(DataSubset90to95), size = 2000, replace = TRUE, prob = NULL)
set.seed(1972)
Sample90to95 <- sample(1:nrow(DataSubset90to95), size = 2000, replace = TRUE, prob = NULL)
Sample90to95 <- as.tibble(Sample90to95)
set.seed(1972)
Sample90to95 <- sample(1:nrow(DataSubset90to95), size = 2000, replace = TRUE, prob = NULL)
Sample90to95 <- as_tibble(Sample90to95)
?? sample
set.seed(1972)
Sample90to95 <- sample(1:nrow(DataSubset90to95), size = 2000, replace = TRUE, prob = NULL)
Sample90to95 <- Sample90to95[Sample90to95,]
set.seed(1972)
Sample90to95 <- sample(1:nrow(DataSubset90to95), size = 2000, replace = TRUE, prob = NULL)
Sample90to95 <- DataSubset90to95[Sample90to95,]
Sample90to95 <- as_tibble(Sample90to95)
View(Sample90to95, "Cleaned Sample Data 1990 to 1995")
Sample90to95 %>%
group_by(APPYEAR) %>%
summarise(obsAPPYEAR = length(APPYEAR)) %>%
group_by(CAT) %>%
summarise(obsCAT = length(CAT)) %>%
group_by(CMADE) %>%
summarise(obsCMADE = length(CMADE)) %>%
group_by(CLAIMS) %>%
summarise(obsCLAIMS = length(CLAIMS)) %>%
group_by(ORIGINAL) %>%
summarise(obsORIGINAL = length(ORIGINAL)) %>%
group_by(GENERAL) %>%
summarise(obsGENERAL = length(GENERAL)) %>%
group_by(RATIOCIT) %>%
summarise(obsRATIOCIT = length(RATIOCIT)) %>%
histoCRECEIVE <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(CRECEIVE))
ggsave(here("results", "histogramCRECEIVE.png"), dpi = 300)
histoAPPYEAR <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(APPYEAR))
ggsave(here("results", "histogramCRECEIVE.png"), dpi = 300)
histoCAT <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(CAT))
ggsave(here("results", "histogramCRECEIVE.png"), dpi = 300)
histoCMADE <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(CMADE))
ggsave(here("results", "histogramCMADE.png"), dpi = 300)
histoCLAIMS <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(CLAIMS))
ggsave(here("results", "histogramCLAIMS.png"), dpi = 300)
histoORIGINAL <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(ORIGINAL))
ggsave(here("results", "histogramORIGINAL.png"), dpi = 300)
histoGENERAL <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(GENERAL))
ggsave(here("results", "histogramGENERAL.png"), dpi = 300)
histoRATIOCIT <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(RATIOCIT))
ggsave(here("results", "histogramRATIOCIT.png"), dpi = 300)
multiplot(histoCRECEIVE, histoCMADE, histoCLAIMS, histoORIGINAL, histoGENERAL, histoRATIOCIT, cols = 2)
?? multiplot
histoCRECEIVE <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(CRECEIVE))
ggsave(here("results", "histogramCRECEIVE.png"), dpi = 300)
histoAPPYEAR <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(APPYEAR))
ggsave(here("results", "histogramAPPYEAR.png"), dpi = 300)
histoCAT <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(CAT))
ggsave(here("results", "histogramCAT.png"), dpi = 300)
histoCMADE <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(CMADE))
ggsave(here("results", "histogramCMADE.png"), dpi = 300)
histoCLAIMS <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(CLAIMS))
ggsave(here("results", "histogramCLAIMS.png"), dpi = 300)
histoORIGINAL <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(ORIGINAL))
ggsave(here("results", "histogramORIGINAL.png"), dpi = 300)
histoGENERAL <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(GENERAL))
ggsave(here("results", "histogramGENERAL.png"), dpi = 300)
histoRATIOCIT <- ggplot() +
geom_histogram(Sample90to95, mapping = aes(RATIOCIT))
ggsave(here("results", "histogramRATIOCIT.png"), dpi = 300)
QQplotCRECEIVE <- qqnorm(Sample90to95$CRECEIVE, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for CRECEIVE", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("results", "QQplotCRECEIVE"), dpi = 300)
QQplotCRECEIVE <- qqnorm(Sample90to95$CRECEIVE, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for CRECEIVE", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("Results", "QQplotCRECEIVE"), dpi = 300)
QQplotCRECEIVE <- qqnorm(Sample90to95$CRECEIVE, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for CRECEIVE", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("Results", "QQplotCRECEIVE.png"), dpi = 300)
QQplotAPPYEAR <- qqnorm(Sample90to95$APPYEAR, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for APPYEAR", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("results", "QQplotAPPYEAR.png"), dpi = 300)
QQplotCAT <- qqnorm(Sample90to95$CAT, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for CAT", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("results", "QQplotCAT.png"), dpi = 300)
QQplotCMADE <- qqnorm(Sample90to95$CMADE, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for CMADE", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("results", "QQplotCMADE.png"), dpi = 300)
QQplotCLAIMS <- qqnorm(Sample90to95$CLAIMS, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for CLAIMS", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("results", "QQplotCLAIMS.png"), dpi = 300)
QQplotORIGINAL <- qqnorm(Sample90to95$ORIGINAL, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for ORIGINAL", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("results", "QQplotORIGINAL.png"), dpi = 300)
QQplotGENERAL <- qqnorm(Sample90to95$GENERAL, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for GENERAL", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("results", "QQplotGENERAL.png"), dpi = 300)
QQplotRATIOCIT <- qqnorm(Sample90to95$RATIOCIT, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for RATIOCIT", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("results", "QQplotRATIOCIT.png"), dpi = 300)
DescriptiveStats <- summary(Sample90to95)
correlationMatrix <- cor(Sample90to95, method = "pearson")
correlationMatrix <- cor(Sample90to95, method = "Pearson")
ggplot() +
geom_point(Sample90to95, mapping = aes(x = APPYEAR, y = CRECEIVE))
ggsave(here("results", "scatterCRECEIVEbyAPPYEAR.png"), dpi = 300)
ggplot() +
geom_point(Sample90to95, mapping = aes(x = CAT, y = CRECEIVE))
ggsave(here("results", "scatterCRECEIVEbyCAT.png"), dpi = 300)
ggplot() +
geom_point(Sample90to95, mapping = aes(x = CMADE, y = CRECEIVE))
ggsave(here("results", "scatterCRECEIVEbyCMADE.png"), dpi = 300)
ggplot() +
geom_point(Sample90to95, mapping = aes(x = CLAIMS, y = CRECEIVE))
ggsave(here("results", "scatterCRECEIVEbyCLAIMS.png"), dpi = 300)
ggplot() +
geom_point(Sample90to95, mapping = aes(x = ORIGINAL, y = CRECEIVE))
ggsave(here("results", "scatterCRECEIVEbyORIGINAL.png"), dpi = 300)
ggplot() +
geom_point(Sample90to95, mapping = aes(x = GENERAL, y = CRECEIVE))
ggsave(here("results", "scatterCRECEIVEbyGENERAL.png"), dpi = 300)
ggplot() +
geom_point(Sample90to95, mapping = aes(x = RATIOCIT, y = CRECEIVE))
ggsave(here("results", "scatterCRECEIVEbyRATIOCIT.png"), dpi = 300)
Sample90to95 <- mutate(Sample90to95, if (CRECEIVE = 0){
Sample90to95 <- mutate(Sample90to95, if (CRECEIVE == 0){
CRECbinomial == 0} else  {
CRECbinomial == 1
} )
Sample90to95 %>%
mutate(CRECbinomial) %>%
if (CRECEIVE == 0){CRECbinomial == 0} else  {
CRECbinomial == 1} -> Sample90to95
?? mutate
Sample90to95 %>%
mutate(CRECbinomial = 0) %>%
if (CRECEIVE = 0){CRECbinomial = 0} else  {
Sample90to95 %>%
mutate(CRECbinomial == 0) %>%
if (CRECEIVE == 0){CRECbinomial == 0} else  {
CRECbinomial == 1} -> Sample90to95
Sample90t95 <- mutate(Sample90to95, CRECbinomial == 0)
correlationMatrix <- cor(Sample90to95, method = "pearson")
?? cor
correlationMatrix <- corr(Sample90to95, method = "pearson")
correlationMatrix <- corr(Sample90to95, method = "pearson")
library(tidyverse) # loads the basic R packages
library(here) # enables file portability
library(readr) # functions for reading data
library(dplyr) # functions for data wrangling
library(janitor) # functions for data cleaning
library(naniar) # functions for analyzing missing data
library(ggplot2) # functions for data visualizations
library(boot) # functions for regression analysis
correlationMatrix <- corr(Sample90to95, method = "pearson")
correlationMatrix <- cor(Sample90to95, method = "pearson")
correlationMatrix <- cor(Sample90to95, y= NULL, method = "pearson")
QQplotCRECEIVE <- qqnorm(Sample90to95$CRECEIVE, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for CRECEIVE", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles", plot.it = TRUE)
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2, plot.it = TRUE)
ggsave(here("Results", "QQplotCRECEIVE.png"), dpi = 300)
QQplotAPPYEAR <- qqnorm(Sample90to95$APPYEAR, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for APPYEAR", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("results", "QQplotAPPYEAR.png"), dpi = 300)
QQplotCAT <- qqnorm(Sample90to95$CAT, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for CAT", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("results", "QQplotCAT.png"), dpi = 300)
QQplotCMADE <- qqnorm(Sample90to95$CMADE, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for CMADE", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("results", "QQplotCMADE.png"), dpi = 300)
QQplotCLAIMS <- qqnorm(Sample90to95$CLAIMS, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for CLAIMS", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("results", "QQplotCLAIMS.png"), dpi = 300)
QQplotORIGINAL <- qqnorm(Sample90to95$ORIGINAL, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for ORIGINAL", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("results", "QQplotORIGINAL.png"), dpi = 300)
QQplotGENERAL <- qqnorm(Sample90to95$GENERAL, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for GENERAL", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("results", "QQplotGENERAL.png"), dpi = 300)
QQplotRATIOCIT <- qqnorm(Sample90to95$RATIOCIT, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for RATIOCIT", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles")
qqline(Sample90to95$CRECEIVE, col = "green", lwd = 2)
ggsave(here("results", "QQplotRATIOCIT.png"), dpi = 300)
png("QQplotCRECEIVE.png", width = 300, height = 600)
qqnorm(Sample90to95$CRECEIVE, pch = 1, frame = FALSE,
main = "Normal Q-Q Plot for CRECEIVE", xlab = "Theoretical Quantiles", ylab = "Sample Quantiles", plot.it = TRUE)
dev.off()
